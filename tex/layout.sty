% coding:utf-8

%----------------------------------------
%FOSAMATH, a LaTeX-Code for a mathematical summary for basic analysis
%Copyright (C) 2013, Daniel Winz, Ervin Mazlagic, Adrian Imboden, Philipp Langer

%This program is free software; you can redistribute it and/or
%modify it under the terms of the GNU General Public License
%as published by the Free Software Foundation; either version 2
%of the License, or (at your option) any later version.

%This program is distributed in the hope that it will be useful,
%but WITHOUT ANY WARRANTY; without even the implied warranty of
%MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%GNU General Public License for more details.
%----------------------------------------

% coding:utf-8
\usepackage[utf8]{inputenc} % für input utf8
\usepackage[T1]{fontenc} %Schriftcodierung mit UTF-8
\usepackage{textcomp} %Erweiterung von fontenc
\usepackage{lmodern} %Erweiterung des Zeichensatzes

\usepackage{graphics}
\usepackage{graphicx}
\usepackage[table]{xcolor}
\usepackage{svg}
\usepackage[ngerman]{babel}
\usepackage{amsmath}
%\usepackage[all]{xy}
%\usepackage[xindy]{glossaries}
\usepackage{makeidx}
\usepackage{pdfpages}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{amssymb}
\usepackage{ifthen}
\usepackage{uhrzeit}
\usepackage{spreadtab}
\usepackage{tikz}
\usepackage{longtable}
\usepackage{listings}

\usepackage{color}
\usepackage{colortbl}
\definecolor{gray}{gray}{0.749}
\definecolor{lgray}{gray}{0.85}
\definecolor{red}{rgb}{1, 0, 0}
\definecolor{green}{rgb}{0, 1, 0}
\definecolor{blue}{rgb}{0, 0, 1}
\definecolor{darkgreen}{rgb}{0, 0.5, 0}

% Special tables
    % light gray and white alternating
    \newenvironment{zebratabular}{\rowcolors{2}{lgray}{white}\tabular}{\endtabular}
    \newenvironment{zebralongtable}{\rowcolors{2}{lgray}{white}\longtable}{\endlongtable}

\usepackage{fancyhdr}                        % http://en.wikibooks.org/wiki/LaTeX/Page_Layout#Customising_with_fancyhdr

\pagestyle{fancy} %eigener Seitenstil
\fancyhf{} %alle Kopf- und Fusszeilenfelder bereinigen

\addtolength{\textheight}{3.5cm}
\addtolength{\voffset}{-1.5cm}
\addtolength{\textwidth}{1cm}
\addtolength{\evensidemargin}{-15mm}
\addtolength{\oddsidemargin}{5mm}

\addtolength{\textheight}{\topmargin-\evensidemargin-\hoffset+\voffset}
\setlength{\topmargin}{\evensidemargin+\hoffset-\voffset}

\addtolength{\headwidth}{1cm}

%\rhead{\setlength{\unitlength}{1mm}
%\begin{picture}(-2,7)
%    \includegraphics[width=35mm]{../fig/hslu_logo2.PNG}
%\end{picture}}

\fancyhead[L]{} %Kopfzeile links
\fancyhead[C]{} %zentrierte Kopfzeile
\fancyhead[RO]{\rightmark}
\fancyhead[LE]{\leftmark}
%\fancyhead[R]{\includegraphics[scale=0.25]{../fig/hslu_logo2.PNG}}
\renewcommand{\headrulewidth}{0.4pt} %obere Trennlinie
\fancyfoot[L]{}
\fancyfoot[C]{}
\fancyfoot[RO]{\thepage}
\fancyfoot[LE]{\thepage}
\renewcommand{\footrulewidth}{0.4pt} %untere Trennlinie

\lstdefinelanguage{st}
{
    %alsodigit{\%},
    % list of keywords
    % POUs
    classoffset=0,
    morekeywords={
        PROGRAM,
        FUNCTION_BLOCK,
        FUNCTION,
    }, keywordstyle=\color{blue},
    % Variables
    classoffset=1,
    morekeywords={
        VAR,
        CONSTANT,
        VAR_INPUT,
        VAR_OUTPUT,
        VAR_GLOBAL,
        END_VAR,
        AT,
       \%I*,
       \%Q*,
    }, keywordstyle=\color{blue},
    % Branches
    classoffset=2,
    morekeywords={
        IF,
        THEN,
        ELSE,
        ELSIF,
        END_IF,
        CASE,
        OF,
        END_CASE,
    }, keywordstyle=\color{blue},
    % Loops
    classoffset=3,
    morekeywords={
        WHILE,
        DO,
        END_WHILE,
        REPEAT,
        UNTIL,
        END_REPEAT,
        FOR,
        TO,
        BY,
        END_FOR,
        EXIT,
        RETURN,
    }, keywordstyle=\color{blue},
    % Types
    classoffset=4,
    morekeywords={
        BOOL,
        BYTE,
        WORD,
        DWORD,
        LWORD,
        SINT,
        INT,
        DINT,
        LINT,
        USINT,
        UINT,
        UDINT,
        ULINT,
        REAL,
        LREAL,
        TIME,
        DATE,
        TIME_OF_DAY,
        TOD,
        DATE_AND_TIME,
        DT,
        STRING,
        ARRAY,
        TYPE,
        END_TYPE,
        STRUCT,
        END_STRUCT,
    }, keywordstyle=\color{blue},
    % Constants for Booleans
    classoffset=5,
    morekeywords={
        TRUE,
        FALSE,
    }, keywordstyle=\color{blue},
    % Conversions
    classoffset=6,
    morekeywords={
        WORD_TO_INT,
        INT_TO_WORD,
        REAL_TO_INT,
        INT_TO_REAL,
    }, keywordstyle=\color{blue},
    classoffset=0,
    sensitive=true,
    morecomment=[s]{(*}{*)},
    morestring=[b]'
}

\lstset{language=st}
\lstloadlanguages{st}
\lstset{basicstyle=\ttfamily,
    %numbers=left,
    %numberstyle=\tiny, 
    %numbersep=5pt,
    breaklines=true,
    %texcsstyle=\color{red},
    backgroundcolor=\color{gray!10},
    commentstyle=\color{darkgreen},
    keywordstyle=\color{blue}\bfseries,
    stringstyle=\color{green}\bfseries,
    frame=single,
    tabsize=4,
    rulecolor=\color{black!30},
    title=\lstname,
    escapeinside={\%*}{*)},
    breaklines=true,
    breakatwhitespace=true,
    framextopmargin=2pt,
    framexbottommargin=2pt,
    inputencoding=utf8,
    extendedchars=true,
    literate={Ö}{{\"O}}1
             {Ä}{{\"A}}1
             {Ü}{{\"U}}1
             {ü}{{\"u}}1
             {ä}{{\"a}}1
             {ö}{{\"o}}1 }


\newcommand\lstsettingst{
    \lstset{language=st}
    \lstloadlanguages{st}
    \lstset{basicstyle=\ttfamily,
        %numbers=left,
        %numberstyle=\tiny, 
        %numbersep=5pt,
        breaklines=true,
        %texcsstyle=\color{red},
        backgroundcolor=\color{gray!10},
        commentstyle=\color{darkgreen},
        keywordstyle=\color{blue}\bfseries,
        stringstyle=\color{green}\bfseries,
        frame=single,
        tabsize=4,
        rulecolor=\color{black!30},
        title=\lstname,
        escapeinside={\%*}{*)},
        breaklines=true,
        breakatwhitespace=true,
        framextopmargin=2pt,
        framexbottommargin=2pt,
        inputencoding=utf8,
        extendedchars=true,
        literate={Ö}{{\"O}}1
                 {Ä}{{\"A}}1
                 {Ü}{{\"U}}1
                 {ü}{{\"u}}1
                 {ä}{{\"a}}1
                 {ö}{{\"o}}1 }
}
